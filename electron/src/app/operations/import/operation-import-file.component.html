<h2>Import operations from file ({{plugin_name}}) <small>State: {{state}}</small></h2>

<div>
    <div class="alert alert-danger" role="alert" *ngIf="error">
        <strong>{{error}}</strong>
    </div>
    <div class="alert alert-warning" role="alert" *ngFor="let warning of warnings">
        <strong>{{warning}}</strong>
    </div>

    <div class="offset-sm-2 col-sm-8" *ngIf="state == 'select_file'">
        <div class="form-group row">
            <label for="formOperationInputImportFile" class="col-sm-2 col-form-label">File</label>
            <div class="col-sm-10">
                <label class="custom-file">
                    <input id="formOperationInputImportFile" [(ngModel)]="modelFile" (change)="onChange($event)" type="file" class="custom-file-input">
                    <span class="custom-file-control"></span>
                </label>
            </div>
        </div>
    </div>

    <pre>{{content}}</pre>

    <div *ngIf="state == 'confirm_importation'">
        <my-operations-list [operations]="operations"></my-operations-list>

        <div class="form-group row">
            <label for="formOperationInputImportAccount" class="col-sm-2 col-form-label">Bank account</label>
            <div class="col-sm-10">
                <select [(ngModel)]="modelAccount" class="form-control" id="formOperationInputImportAccount">
                    <option *ngFor="let account of accounts" [ngValue]="account">{{account.getLongTitle()}}</option>
                </select>
            </div>
        </div>
        <div class="form-group row">
            <div class="offset-sm-2 col-sm-10">
                <button (click)="cancelImport()" class="btn btn-warning">Cancel importation</button>
                <button (click)="addOperations()" class="btn btn-primary">Add these operations</button>
            </div>
        </div>
    </div>
</div>
